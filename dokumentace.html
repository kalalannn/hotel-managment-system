<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>IIS Project</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
		body {width: 50%;  margin: auto;}
		p { text-align: justify;}
    </style>
</head>
<body>
	<h1>Hotel: rezervace a správa ubytování</h1> 
	<dl>
		<dt>Autoři</dt>
		<dd>Luhin Artsiom<!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
			<a href="mailto:xautor01@stud.fit.vutbr.cz">xluhin00@stud.fit.vutbr.cz</a> -
			vedoucí
		</dd>
		<dd>Sharlaieva Arina<!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
			<a href="mailto:xautor02@stud.fit.vutbr.cz">xsharl00@stud.fit.vutbr.cz</a> - 
			popis činnosti v týmu
		</dd>
	  <dd>Vorobiev Nikolaj<!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
			<a href="mailto:xautor03@stud.fit.vutbr.cz">xvorob00@stud.fit.vutbr.cz</a> - 
			popis činnosti v týmu
		</dd>
		<dt>URL aplikace</dt>
		<dd><a href="https://iishotel.herokuapp.com/">https://iishotel.herokuapp.com/</a></dd>
	</dl>
	
	<h2>Uživatelé systému pro testování</h2>
	<table>
		<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
		<tr><td>admin@gmail.com</td><td>a0qwerty</td><td>Administrátor</td></tr>
		<tr><td>director0@gmail.com</td><td>d0qwerty</td><td><strong>Director 0</strong> (Jizni Morava International, Prague Hotel Carl Inn Free Parking)</td></tr>
		<tr><td>JMreceptionist1@gmail.com</td><td>JMr1qwerty</td><td>Recepční Jizni Morava International</td></tr>
		<tr><td>PHreceptionist1@gmail.com</td><td>PHr1qwerty</td><td>Recepční Prague Hotel Carl Inn Free Parking</td></tr>
		<tr><td>director1@gmail.com</td><td>d1qwerty</td><td><strong>Director 1</strong> (Praha President Hotel)</td></tr></tr>
		<tr><td>PPreceptionist1@gmail.com</td><td>PPr1qwerty</td><td>Recepční Praha President Hotel</td></tr>
		<tr><td>director2@gmail.com</td><td>d2qwerty</td><td><strong>Director 2</strong> (Brno Grand Hotel)</td></tr></tr>
		<tr><td>BGreceptionist1@gmail.com</td><td>BGr1qwerty</td><td>Recepční Brno Grand Hotel</td></tr>
		<tr><td>customer0@gmail.com</td><td>c0qwerty</td><td>Zákazník</td></tr>
		</table>
	<p>Loginy a hesla dalších zákazníků (celkem 8) jsou tvořeny podle pravidla:</p>
	<p style="font-size: 15px;"><strong>Login: </strong>{role}{číslo od 0}@gmail.com <strong>Heslo: </strong>{první písmeno role <strong>r nebo c</strong>}{číslo od 0}qwerty</p>
	<pre>	<strong>login: </strong>customer<strong>1</strong>@gmail.com <strong>heslo:</strong> <strong>c1</strong>qwerty , ... </pre>
	<h2>Implementace</h2>
	<p>Projekt je implementován v jazyce Python pomocí frameworku Flask. Klientská část byla napsána v jazycích JavaScript, HTML, CSS.
		Interakce uživatele a systému probíhá bezpečně prostřednictvím forem které jsme vytvořili použitím Flask Forms.
	</p>
	
	<h4>Správa účtů /users/</h4>
	<p>
		Komponenta pro správu přihlašování a odhlašování uživatelů, úpravu profilů. Autorizace jsme realizovali pomocí Flask Login.
		Uživatel se může přihlásit do účtu nebo vytvořit si nový profil.
		Administrátor a Director můžou spravovat účty recepčních a zákazníků hotelu.
	</p>
		<ul>
			<li><strong>login</strong> přihlášení uživatele.</li>
			<li><strong>logout</strong> odhlášení uživatele.</li>
			<li><strong>register</strong> forma registrace a vytvoření účtu.</li>
			<li><strong>get_or_create_user</strong> uživatel bud' existuje nebo je anonymní.</li>
			<li><strong>new_or_update_user</strong> přidání uživatele nebo změna údajů podle role.</li>
			<li><strong>new_password</strong> změna hesla přihlášeného uživatele.</li>
			<li><strong>home</strong> domovská stránka.</li>
			<li><strong>get_user</strong> zobrazuje uživatele.</li>
			<li><strong>manage</strong> zobrazuje seznam uživatelů.</li>
			<li><strong>delete</strong> vymazání uživatele.</li>
		</ul>
	
		
	<h4>Správa hotelů /hotels/</h4>
	<p>
	Přidávat a upravovat hotely můžou uživatele administrátor a director.
	Director může editovat vlastní hotely a přidávat nové. Administrátor může přidávat hotely (specifikovat directora) a také editovat libovolný hotel.
	V rámci editace hotelu je možně měnit informace o hotelu, přidávat nebo editovat kategorie pokojů a jednotlivé pokoje.
	</p>
		<ul>
			<li><strong>list</strong> zobrazí seznam hotelů.</li>
			<li><strong>update</strong> úprava nebo přidání nového hotelu.</li>
			<li><strong>new_or_update_room</strong> úprava nebo přidání pokoje.</li>
			<li><strong>new_or_update_room_category</strong> úprava nebo přidání kategorie pokojů.</li>
			<li><strong>show</strong> zobrazení informace o hotelu.</li>
			<li><strong>delete</strong> vymazání hotelu, kategorie nebo pokoje.</li>
		</ul>
	<h4>Správa rezervací /reservations/</h4>
	<p>
		Vytvářet rezervace v našem systému můžou všichni uživateli. V rámci jedné rezervace
		uživatel může rezervovat najednou několik pokojů pro různá data.
		Uživatel přidává rezervace pomocí formy, pro výběr dat jsme použili widget DatePicker.
		Rezervace na stránkach recepčního se zobrazují pomocí widgetu DayPilot.
	</p>
		<ul>
			<li><strong>reservation_list</strong> zobrazení rezervací uživatele.</li>
			<li><strong>reservation_details</strong> informace o rezervaci.</li>
			<li><strong>dashboard</strong> seznam rezervaci </li>
			<li><strong>load_rooms</strong> zobrazení seznamu pokojů.</li>
			<li><strong>load_reservations</strong> zobrazení seznamu rezervací.</li>
			<li><strong>create_reservation</strong> vytvoření rezervace.</li>
			<li><strong>edit_reservation</strong> úprava rezervace.</li>
			<li><strong>delete_reservation</strong> převedení rezervace do stavu canceled.</li>
			<li><strong>delete_reserv_room</strong> rušení rezervace pokoje.</li>
			<li><strong>filter_rooms</strong> filtruje pokoje podle kapacity nebo typu.</li>
			<li><strong>is_room_free</strong> zobrazuje stav pokoje.</li>
			<li><strong>update_payment</strong> správa plateb.</li>
		</ul>
	
	 <h2>Databáze</h2>
	<p>
		V projektu byl použit databázový systém PostgreSQL verze 11. Práce z databázou
		jsme realizovali pomocí ORM nástroje SQLAlchemy.
	</p>
	<h3>Schéma databáze</h3>	
	<img src="app/static/img/schema.png">
	<br>
	<br>
	
	<h2>Instalace</h2>
	
	<h4>Softwarové požadavky a instalace</h4>
	<p>Požadavky jsou uvedené v souboru <b>requirements.txt</b> v hlavní složce projektu.
	Nainstalovat nutné balíky je možně příkazem <code>pip intstall -r requirements.txt</code></p>
	
	<h4>Postup instalace na server</h4>
	<p>
		Jako platformu pro naší aplikace jsme zvolili Heroku. Heroku umožňuje jednoduché nasazení aplikace použitím git a podporuje PostgreSQL databáze.
		Jako webserver jsme použili http server gunicorn.<br>
		Nasazení probíhá v následujících krocích:
		<ol>
			<li>Vytvoření aplikace na Heroku příkazem <code>heroku create iishotel</code> (inicializuje se git repozitář).</li>
			<li>Kopírování projektu do repozitáře.</li>
			<li>Přidání databáze do aplikace. <code>heroku addons:create heroku-postgresql:hobby-dev --version=11 -a iishotel</code></li>
			<li>Úprava config souboru pro spojení z databázou.</li>
			<li>Inicializace databáze přikazem <code>python manage.py restart</code></li>
			<li>Úprava souboru Procfile z označením webserveru a spustitelného souboru aplikace.</li>
		</ol>
	</p>
	
	
	<h2>Známé problémy</h2>

	</body>
	</html>
	
	